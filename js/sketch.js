// Generated by CoffeeScript 2.5.1
var Digits,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

import _ from 'https://cdn.skypack.dev/lodash';

import {
  r4r,
  signal,
  range,
  br,
  div,
  input,
  button
} from '../js/utils.js';

Digits = (target, numbers) => {
  var click, n, setSolutions, solutions, solve, solve1, t;
  [solutions, setSolutions] = signal([]);
  solve = (t, n) => {
    var i, j, len, ref, results;
    ref = _.range(2000);
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      if (solve1(t, _.cloneDeep(n))) {
        break;
      } else {
        results.push(void 0);
      }
    }
    return results;
  };
  solve1 = (t, n) => {
    var a, b, c, lines, op;
    lines = [];
    while (n.length >= 2) {
      n = _.shuffle(n);
      [a, b] = n.slice(0, 2);
      if (a < b) {
        [a, b] = [b, a];
      }
      op = _.sample("+*-/");
      c = 0;
      if (op === '+') {
        c = a + b;
      }
      if (op === '-') {
        c = a - b;
      }
      if (op === '*' && b !== 1 && b !== 1) {
        c = a * b;
      }
      if (op === '/' && modulo(a, b) === 0 && b !== 1) {
        c = Math.floor(a / b);
      }
      if (c > 0) {
        lines.push(`${a} ${op} ${b} = ${c}`);
        n.shift();
        n.shift();
        n.push(c);
      }
      if (c === t) {
        setSolutions(lines);
        return true;
      }
    }
    return false;
  };
  click = (t, n) => {
    return solve(parseInt(t.value), n.value.split(' ').map((x) => {
      return parseInt(x);
    }));
  };
  return div({}, div({}, n = input({
    size: 13,
    value: numbers
  }), t = input({
    size: 3,
    value: target
  }), button({
    onclick: () => {
      return click(t, n);
    }
  }, "solve")), () => {
    var j, len, ref, results, sol;
    ref = solutions();
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      sol = ref[j];
      results.push(div({}, sol));
    }
    return results;
  }, br({}));
};

r4r(() => {
  return div({
    style: "text-align:center;font-size:2em"
  }, Digits(156, '25 15 11 7 3 2'), Digits(117, '1 3 9 27 81 35'), Digits(15, '4 2 1 1'));
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQTtFQUFBOztBQUFBLE9BQU8sQ0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUSxHQUFSO0VBQVksTUFBWjtFQUFtQixLQUFuQjtFQUF5QixFQUF6QjtFQUE0QixHQUE1QjtFQUFnQyxLQUFoQztFQUFzQyxNQUF0QztDQUFBLE1BQUE7O0FBRUEsTUFBQSxHQUFTLENBQUMsTUFBRCxFQUFRLE9BQVIsQ0FBQSxHQUFBO0FBQ1QsTUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLFlBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQTtFQUFDLENBQUMsU0FBRCxFQUFXLFlBQVgsQ0FBQSxHQUEyQixNQUFBLENBQU8sRUFBUDtFQUMzQixLQUFBLEdBQVEsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQUE7QUFDVCxRQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFFO0FBQUE7SUFBQSxLQUFBLHFDQUFBOztNQUNDLElBQUcsTUFBQSxDQUFPLENBQVAsRUFBVSxDQUFDLENBQUMsU0FBRixDQUFZLENBQVosQ0FBVixDQUFIO0FBQWdDLGNBQWhDO09BQUEsTUFBQTs2QkFBQTs7SUFERCxDQUFBOztFQURPO0VBR1IsTUFBQSxHQUFTLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQSxHQUFBO0FBQ1YsUUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUE7SUFBRSxLQUFBLEdBQVE7QUFDUixXQUFNLENBQUMsQ0FBQyxNQUFGLElBQVksQ0FBbEI7TUFDQyxDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFWO01BQ0osQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQVEsQ0FBQyxDQUFDLEtBQUYsQ0FBUSxDQUFSLEVBQVUsQ0FBVjtNQUNSLElBQUcsQ0FBQSxHQUFJLENBQVA7UUFBYyxDQUFDLENBQUQsRUFBRyxDQUFILENBQUEsR0FBUSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQXRCOztNQUNBLEVBQUEsR0FBSyxDQUFDLENBQUMsTUFBRixDQUFTLE1BQVQ7TUFFTCxDQUFBLEdBQUk7TUFDSixJQUFHLEVBQUEsS0FBTSxHQUFUO1FBQWtCLENBQUEsR0FBSSxDQUFBLEdBQUUsRUFBeEI7O01BQ0EsSUFBRyxFQUFBLEtBQU0sR0FBVDtRQUFrQixDQUFBLEdBQUksQ0FBQSxHQUFFLEVBQXhCOztNQUNBLElBQUcsRUFBQSxLQUFNLEdBQU4sSUFBYyxDQUFBLEtBQUcsQ0FBakIsSUFBdUIsQ0FBQSxLQUFHLENBQTdCO1FBQW9DLENBQUEsR0FBRSxDQUFBLEdBQUUsRUFBeEM7O01BQ0EsSUFBRyxFQUFBLEtBQU0sR0FBTixXQUFjLEdBQUssRUFBTCxLQUFVLENBQXhCLElBQThCLENBQUEsS0FBRyxDQUFwQztRQUEyQyxDQUFBLGNBQUUsSUFBRyxHQUFoRDs7TUFFQSxJQUFHLENBQUEsR0FBSSxDQUFQO1FBQ0MsS0FBSyxDQUFDLElBQU4sQ0FBVyxDQUFBLENBQUEsQ0FBRyxDQUFILEVBQUEsQ0FBQSxDQUFRLEVBQVIsRUFBQSxDQUFBLENBQWMsQ0FBZCxDQUFBLEdBQUEsQ0FBQSxDQUFxQixDQUFyQixDQUFBLENBQVg7UUFDQSxDQUFDLENBQUMsS0FBRixDQUFBO1FBQ0EsQ0FBQyxDQUFDLEtBQUYsQ0FBQTtRQUNBLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBUCxFQUpEOztNQU1BLElBQUcsQ0FBQSxLQUFLLENBQVI7UUFDQyxZQUFBLENBQWEsS0FBYjtBQUNBLGVBQU8sS0FGUjs7SUFsQkQ7V0FxQkE7RUF2QlE7RUF5QlQsS0FBQSxHQUFRLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQSxHQUFBO1dBQVMsS0FBQSxDQUFNLFFBQUEsQ0FBUyxDQUFDLENBQUMsS0FBWCxDQUFOLEVBQXlCLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBUixDQUFjLEdBQWQsQ0FBa0IsQ0FBQyxHQUFuQixDQUF1QixDQUFDLENBQUQsQ0FBQSxHQUFBO2FBQU8sUUFBQSxDQUFTLENBQVQ7SUFBUCxDQUF2QixDQUF6QjtFQUFUO1NBRVIsR0FBQSxDQUFJLENBQUEsQ0FBSixFQUNDLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFDQyxDQUFBLEdBQUksS0FBQSxDQUFNO0lBQUMsSUFBQSxFQUFLLEVBQU47SUFBVSxLQUFBLEVBQU07RUFBaEIsQ0FBTixDQURMLEVBRUMsQ0FBQSxHQUFJLEtBQUEsQ0FBTTtJQUFDLElBQUEsRUFBSyxDQUFOO0lBQVMsS0FBQSxFQUFNO0VBQWYsQ0FBTixDQUZMLEVBR0MsTUFBQSxDQUFPO0lBQUMsT0FBQSxFQUFTLENBQUEsQ0FBQSxHQUFBO2FBQU0sS0FBQSxDQUFNLENBQU4sRUFBUSxDQUFSO0lBQU47RUFBVixDQUFQLEVBQWtDLE9BQWxDLENBSEQsQ0FERCxFQUtDLENBQUEsQ0FBQSxHQUFBO0FBQUUsUUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUE7QUFBQztBQUFBO0lBQUEsS0FBQSxxQ0FBQTs7bUJBQ0YsR0FBQSxDQUFJLENBQUEsQ0FBSixFQUFRLEdBQVI7SUFERSxDQUFBOztFQUFILENBTEQsRUFPQyxFQUFBLENBQUcsQ0FBQSxDQUFILENBUEQ7QUFoQ1E7O0FBeUNULEdBQUEsQ0FBSSxDQUFBLENBQUEsR0FBQTtTQUNILEdBQUEsQ0FBSTtJQUFDLEtBQUEsRUFBTTtFQUFQLENBQUosRUFDQyxNQUFBLENBQU8sR0FBUCxFQUFXLGdCQUFYLENBREQsRUFFQyxNQUFBLENBQU8sR0FBUCxFQUFXLGdCQUFYLENBRkQsRUFHQyxNQUFBLENBQU8sRUFBUCxFQUFVLFNBQVYsQ0FIRDtBQURHLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcbmltcG9ydCB7cjRyLHNpZ25hbCxyYW5nZSxicixkaXYsaW5wdXQsYnV0dG9ufSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuXHJcbkRpZ2l0cyA9ICh0YXJnZXQsbnVtYmVycykgPT5cclxuXHRbc29sdXRpb25zLHNldFNvbHV0aW9uc10gPSBzaWduYWwgW11cclxuXHRzb2x2ZSA9ICh0LG4pID0+XHJcblx0XHRmb3IgaSBpbiBfLnJhbmdlIDIwMDBcclxuXHRcdFx0aWYgc29sdmUxIHQsIF8uY2xvbmVEZWVwIG4gdGhlbiBicmVha1xyXG5cdHNvbHZlMSA9ICh0LG4pID0+XHJcblx0XHRsaW5lcyA9IFtdXHJcblx0XHR3aGlsZSBuLmxlbmd0aCA+PSAyXHJcblx0XHRcdG4gPSBfLnNodWZmbGUgblxyXG5cdFx0XHRbYSxiXSA9IG4uc2xpY2UgMCwyXHJcblx0XHRcdGlmIGEgPCBiIHRoZW4gW2EsYl0gPSBbYixhXVxyXG5cdFx0XHRvcCA9IF8uc2FtcGxlIFwiKyotL1wiXHJcblxyXG5cdFx0XHRjID0gMFxyXG5cdFx0XHRpZiBvcCA9PSAnKycgdGhlbiBjID0gYStiXHJcblx0XHRcdGlmIG9wID09ICctJyB0aGVuIGMgPSBhLWJcclxuXHRcdFx0aWYgb3AgPT0gJyonIGFuZCBiIT0xIGFuZCBiIT0xIHRoZW4gYz1hKmJcclxuXHRcdFx0aWYgb3AgPT0gJy8nIGFuZCBhICUlIGIgPT0gMCBhbmQgYiE9MSB0aGVuIGM9YS8vYlxyXG5cclxuXHRcdFx0aWYgYyA+IDBcclxuXHRcdFx0XHRsaW5lcy5wdXNoIFwiI3thfSAje29wfSAje2J9ID0gI3tjfVwiXHJcblx0XHRcdFx0bi5zaGlmdCgpXHJcblx0XHRcdFx0bi5zaGlmdCgpXHJcblx0XHRcdFx0bi5wdXNoIGNcclxuXHJcblx0XHRcdGlmIGMgPT0gdFxyXG5cdFx0XHRcdHNldFNvbHV0aW9ucyBsaW5lc1xyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cclxuXHRjbGljayA9ICh0LG4pID0+IHNvbHZlIHBhcnNlSW50KHQudmFsdWUpLCBuLnZhbHVlLnNwbGl0KCcgJykubWFwICh4KSA9PiBwYXJzZUludCB4XHJcblxyXG5cdGRpdiB7fSxcclxuXHRcdGRpdiB7fSxcclxuXHRcdFx0biA9IGlucHV0IHtzaXplOjEzLCB2YWx1ZTpudW1iZXJzfVxyXG5cdFx0XHR0ID0gaW5wdXQge3NpemU6MywgdmFsdWU6dGFyZ2V0fVxyXG5cdFx0XHRidXR0b24ge29uY2xpY2s6ICgpID0+IGNsaWNrIHQsbn0sXCJzb2x2ZVwiXHJcblx0XHQ9PiBmb3Igc29sIGluIHNvbHV0aW9ucygpXHJcblx0XHRcdGRpdiB7fSwgc29sXHJcblx0XHRiciB7fVxyXG5cclxucjRyID0+XHJcblx0ZGl2IHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToyZW1cIn0sXHJcblx0XHREaWdpdHMgMTU2LCcyNSAxNSAxMSA3IDMgMidcclxuXHRcdERpZ2l0cyAxMTcsJzEgMyA5IDI3IDgxIDM1J1xyXG5cdFx0RGlnaXRzIDE1LCc0IDIgMSAxJ1xyXG4iXX0=
//# sourceURL=c:\github\2023-020-NYT-Digits\coffee\sketch.coffee